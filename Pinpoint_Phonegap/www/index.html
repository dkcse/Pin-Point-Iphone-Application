<html>    
  <head> 
    <script type="text/javascript" src="../jquery/jquery-1.4.4.min.js"></script>  
      <script type="text/javascript" charset="utf-8" src="cordova-1.5.0.js"></script>
      <script type="text/javascript" charset="utf-8" src="MapKit.js"></script>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>

    <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
    <script type="text/javascript" src="gmap3.js"></script> 
      
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
                  
                <link rel="stylesheet" href="jquery.mobile-1.1.1.min.css" />
                <script type="text/javascript" src="jquery-1.7.1.min.js"></script>
                <script type="text/javascript" src="jquery.mobile-1.1.1.min.js"></script>
                <script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3&sensor=false&language=en"> </script>
                <script type="text/javascript">
                    
                    var demoCenter = new google.maps.LatLng(-33.866943,151.195512);
                    
                    var map;
                    function initialize()
                    {
                        map = new google.maps.Map(document.getElementById('map_canvas'), {
                                                  zoom: 7,
                                                  center: demoCenter,
                                                  mapTypeId: google.maps.MapTypeId.ROADMAP
                                                  });
                    }
                    
                    function addMarkers()
                    {
                        
                        // perform your AJAX here. In this example the markers are loaded through the cityList array
//                        $.ajax({
//                               type:'post',
//                               url:'test.html',
//                               data:'',
//                               success:function(data)
//                               {
                               
                               // imagine that the data in this list
                               // will be retrieved from the AJAX response
                               // i used the cityList array just for testing
                               var infoArray = [
                                               ['first', -33.850033, 150.6500523, 1],
                                               ['second', -33.797177,150.406738, 2],
                                                ['third', -33.700007,151.406738, 3]
                                               ];
                               
                               var marker, i;
                                var image1 = '/Users/deepakkumar/Documents/PhoneGapProject/Pinpoint_Phonegap/Pinpoint_Phonegap/pin.png';
                                var image2 = '/Users/deepakkumar/Documents/PhoneGapProject/Pinpoint_Phonegap/Pinpoint_Phonegap/location_background.png';
                               var infowindow = new google.maps.InfoWindow();
                               for (i = 0; i < infoArray.length; i++) 
                                {  
                                    marker = new google.maps.Marker({
                                                               position: new google.maps.LatLng(infoArray[i][1], infoArray[i][2]),
                                                               map: map,
                                                               title: infoArray[i][0],
                                                               icon:image1
                                                               });
                            
//                                    marker.info = new google.maps.InfoWindow({
//                                                                             //when I add <IMG BORDER="0" ALIGN="Left" SRC="stagleton.jpg"> the maps will not load
//                                                                             content: <IMG ALIGN="Left" SRC=image2> "My name is "
//                                                                             
//                                                                             });    
                                                          
                               google.maps.event.addListener(marker,'click',(function(marker,i) {
                                                                               return function() {
                                                                               infowindow.setContent(infoArray[i][0]);
                                                                    
                                                                               //infowindow.icon:image1;
                                                                               //infowindow.image : '/Users/deepakkumar/Documents/PhoneGapProject/Pinpoint_Phonegap/Pinpoint_Phonegap/pin.png'; 
                                                                               infowindow.open(map, marker);
                                                                              //  marker.info.open(map, marker);
                                                                               
                                                                               }
                                                                               })(marker, i));
                                    
                                   
                               }
                                
                        
//                               }
//                               });
                    }
                    
                    $(document).ready(function() 
                                      {
                                        addMarkers();
                                      });
                    </script>
            </head>
            <body onload="initialize()">
                <div id="basic-map" data-role="page">
                    <div data-role="header" data-theme="b">
                        <h1>Map Location</h1>
                        <button type="button" onclick= "addMarkers()">Show Marker</button>
                    </div>
                    <div data-role="content">   
                        <div class="ui-bar-c ui-corner-all ui-shadow" style="padding:1em;">
                            <div id="map_canvas" style="height:350px;"></div>
                        </div>
                    </div>
                </div>      
            </body>
        </html>